<div class="container-fluid py-4">
  <!-- Main Header with decorative lines -->
  <div class="text-center my-5">
    <h1 class="text-dark mb-3 position-relative">
      <span class="d-inline-block position-relative">
        <span class="d-inline-block mx-2" style="width: 30px;"></span>
        Pregled emisij CO₂ v Sloveniji 
        <span class="d-inline-block mx-2" style="width: 30px;"></span>
      </span>
    </h1>
  </div>

  <!-- Introduction Section -->
  <div class="mt-3 mb-4 px-6 text-start">
    <p class="text-dark fs-7 mb-3">
      Slovenija prispeva k globalnim prizadevanjem za zmanjšanje emisij CO₂. Ta pregled prikazuje trende emisij od leta 1990, primerjave z EU in svetom ter ključne metrike, kot so emisije na prebivalca in intenzivnost emisij. Raziščite, kako gospodarski in družbeni dogodki vplivajo na emisije! 
    </p>
    <p class="text-dark fs-7 mb-3">
      Od leta 1990 so se emisije v Sloveniji v določenih sektorjih zmanjšale, vendar ostajajo izzivi, zlasti na področju prometa in industrije. Kljub izboljšavam v energetski učinkovitosti in povečanju deleža obnovljivih virov energije, emisije iz cestnega prometa še vedno predstavljajo pomemben delež skupnih emisij. 
    </p>
    <p class="text-dark fs-7 mb-3">
      Po podatkih iz leta 2022 Slovenija proizvede približno 15,8 milijonov ton CO₂, kar pomeni znatno povečanje glede na leto 2000. Emisije na prebivalca znašajo okoli 7,6 ton, kar je nad povprečjem EU. Za dosego podnebnih ciljev bo ključno nadaljevati z razogljičenjem energetike, spodbujanjem trajnostne mobilnosti in prehodom v krožno gospodarstvo.
    </p>
  </div>
  
  <!-- Key Metrics -->
  <div class="row mb-4 justify-content-between text-start">
    <div class="col-12 col-md-6 col-lg custom-col mb-3">
      <div class="card border-0 shadow-sm bg-light-primary transition-hover">
        <div class="card-body p-3 d-flex align-items-center">
          <div class="me-2">
            <span class="metric-icon-circle bg-primary text-white rounded-circle">
              <i class="fas fa-smog fa-sm"></i>
            </span>
          </div>
          <div>
            <p class="text-sm text-uppercase text-muted mb-1">Trenutne emisije</p>
            <h5 class="font-weight-bolder mb-1" id="currentEmissions">-</h5>
            <p class="fs-7 mb-0" id="emissionsChange"></p>
          </div>
        </div>
      </div>
    </div>

    <div class="col-12 col-md-6 col-lg custom-col mb-3">
      <div class="card border-0 shadow-sm bg-light-primary transition-hover">
        <div class="card-body p-3 d-flex align-items-center">
          <div class="me-2">
            <span class="metric-icon-circle bg-primary text-white rounded-circle">
              <i class="fas fa-user fa-sm"></i>
            </span>
          </div>
          <div>
            <p class="text-sm text-uppercase text-muted mb-1">Na prebivalca 👤</p>
            <h5 class="font-weight-bolder mb-1" id="perCapita">-</h5>
            <p class="fs-7 mb-0" id="perCapitaChange"></p>
          </div>
        </div>
      </div>
    </div>

    <div class="col-12 col-md-6 col-lg custom-col mb-3">
      <div class="card border-0 shadow-sm bg-light-primary transition-hover">
        <div class="card-body p-3 d-flex align-items-center">
          <div class="me-2">
            <span class="metric-icon-circle bg-primary text-white rounded-circle">
              <i class="fas fa-globe-europe fa-sm"></i>
            </span>
          </div>
          <div>
            <p class="text-sm text-uppercase text-muted mb-1">Globalni delež 🌍</p>
            <h5 class="font-weight-bolder mb-1" id="globalShare">-</h5>
            <p class="fs-7 mb-0" id="globalRank"></p>
          </div>
        </div>
      </div>
    </div>

    <div class="col-12 col-md-6 col-lg custom-col mb-3">
      <div class="card border-0 shadow-sm bg-light-primary transition-hover">
        <div class="card-body p-3 d-flex align-items-center">
          <div class="me-2">
            <span class="metric-icon-circle bg-primary text-white rounded-circle">
              <i class="fas fa-industry fa-sm"></i>
            </span>
          </div>
          <div>
            <p class="text-sm text-uppercase text-muted mb-1">Po sektor🏭</p>
            <h5 class="font-weight-bolder mb-1" id="mainSector">-</h5>
            <p class="fs-7 mb-0" id="sectorPercentage"></p>
          </div>
        </div>
      </div>
    </div>

    <div class="col-12 col-md-6 col-lg custom-col mb-3">
      <div class="card border-0 shadow-sm bg-light-primary transition-hover">
        <div class="card-body p-3 d-flex align-items-center">
          <div class="me-2">
            <span class="metric-icon-circle bg-primary text-white rounded-circle">
              <i class="fas fa-arrow-down fa-sm"></i>
            </span>
          </div>
          <div>
            <p class="text-sm text-uppercase text-muted mb-1">Trend (2000–2022) 📉</p>
            <h5 class="font-weight-bolder mb-1 text-success">-15%</h5>
            <p class="fs-7 mb-0">Skupne emisije</p>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Subheader with decorative lines -->
  <div class="text-center my-5">
    <h3 class="text-dark mb-2 position-relative">
      <span class="d-inline-block position-relative">
        <span class="d-inline-block mx-2" style="width: 30px;"></span>
        Skupne emisije CO₂ v Sloveniji skozi leta
        <span class="d-inline-block mx-2" style="width: 30px;"></span>
      </span>
    </h3>
  </div>

  <div class="row mt-4" id="co2-slovenia">
    <div class="col-lg-5 mb-lg-0 mb-4">
      <div class="card z-index-2 h-100">
        <div class="card-header pb-0 pt-3 bg-transparent">
          <p class="text-dark fs-7">
            Graf prikazuje gibanje skupnih letnih emisij ogljikovega dioksida (CO₂) v Sloveniji od leta 1990 do 2023. Vidimo lahko, da so emisije v tem obdobju precej nihale, z opaznim vrhom okoli leta <strong>2008</strong> in večjimi padci v določenih letih. Najnižjo vrednost emisij beležimo v <strong>2023</strong>, kar kaže na splošen dolgoročen trend upadanja.
            <br><br>
            Čeprav se v posameznih letih emisije povečajo ali zmanjšajo, podatki nakazujejo postopno zmanjševanje emisij skozi desetletja. To je lahko posledica kombinacije okoljskih politik, sprememb v energetski strukturi, gospodarskih dejavnikov in večje okoljske ozaveščenosti.
          </p>
        </div>
      </div>
    </div>
    <div class="col-lg-7">
      <div class="card shadow-sm border-0 z-index-2 h-100 animate__animated animate__fadeIn">
        <div class="card-header bg-gradient-primary text-white pb-0 border-0">
          <h5 class="font-weight-bold text-white">Emisije CO₂ skozi čas 📈</h5>
          <p class="text-white opacity-8 fs-7">Letne emisije CO₂ v milijonih ton za Slovenijo</p>
        </div>
        <div class="card-body p-3">
          <canvas id="trendChart" height="300" aria-label="Graf letnih emisij CO₂ v Sloveniji od 1990"></canvas>
        </div>
      </div>
    </div>
  </div>

  <!-- Subheader with decorative lines -->
  <div class="text-center my-5">
    <h3 class="text-dark mb-3 mt-4 position-relative">
      <span class="d-inline-block position-relative">
        <span class="d-inline-block mx-2" style="width: 30px;"></span>
        Vpliv gospodarskih dogodkov na emisije
        <span class="d-inline-block mx-2" style="width: 30px;"></span>
      </span>
    </h3>
  </div>

  <!-- Crisis Analysis -->
  <div class="row mt-4">
    <div class="col-lg-5 mb-lg-0 mb-4">
      <div class="card z-index-2 h-100">
        <div class="card-header pb-0 pt-3 bg-transparent">
          <div class="mb-3">
            <h6 class="text-dark mb-2">Finančna kriza 2008–2009</h6>
            <div class="crisis-data">
              <div class="data-point">
                <span class="data-value">18.28 Mt</span>
                <span class="data-label">2008</span>
              </div>
              <span class="arrow-down">▼ 11.3%</span>
              <div class="data-point">
                <span class="data-value">16.20 Mt</span>
                <span class="data-label">2009</span>
              </div>
            </div>
            <p class="text-dark fs-7 mb-2">Finančna kriza je zmanjšala emisije CO₂ zaradi upada industrijske proizvodnje in transporta.</p>
          </div>
          <div class="mb-3">
            <h6 class="text-dark mb-2">Pandemija COVID-19 (2020)</h6>
            <div class="crisis-data">
              <div class="data-point">
                <span class="data-value">14.04 Mt</span>
                <span class="data-label">2019</span>
              </div>
              <span class="arrow-down">▼ 8.4%</span>
              <div class="data-point">
                <span class="data-value">12.86 Mt</span>
                <span class="data-label">2020</span>
              </div>
            </div>
            <p class="text-dark fs-7 mb-2">Pandemija je zmanjšala emisije zaradi omejitev gibanja in zaustavitve gospodarstva.</p>
          </div>
        </div>
      </div>
    </div>
    <div class="col-lg-7">
      <div class="card card-carousel overflow-hidden h-100 p-0">
        <div id="crisisCarousel" class="carousel slide h-100" data-bs-ride="carousel">
          <div class="carousel-inner border-radius-lg h-100">
            <!-- Graph for 2008 Financial Crisis -->
            <div class="carousel-item h-100 active">
              <div class="card shadow-sm border-0 z-index-2 h-100">
                <div class="card-header bg-gradient-primary text-white pb-0 border-0">
                  <h5 class="font-weight-bold text-white">Finančna kriza 2008–2009 📉</h5>
                  <p class="text-white opacity-8 fs-7">Emisije CO₂ v Sloveniji (milijoni ton)</p>
                </div>
                <div class="card-body p-3">
                  <canvas id="crisisChart2008" height="300" aria-label="Graf emisij CO₂ v Sloveniji za finančno krizo 2008"></canvas>
                </div>
              </div>
            </div>
            <!-- Graph for 2020 COVID-19 Pandemic -->
            <div class="carousel-item h-100">
              <div class="card shadow-sm border-0 z-index-2 h-100">
                <div class="card-header bg-gradient-primary text-white pb-0 border-0">
                  <h5 class="font-weight-bold text-white">Pandemija COVID-19 2020 📉</h5>
                  <p class="text-white opacity-8 fs-7">Emisije CO₂ v Sloveniji (milijoni ton)</p>
                </div>
                <div class="card-body p-3">
                  <canvas id="crisisChart2020" height="300" aria-label="Graf emisij CO₂ v Sloveniji za pandemijo 2020"></canvas>
                </div>
              </div>
            </div>
          </div>
          <!-- Carousel controls -->
          <button class="carousel-control-prev w-5 me-3" type="button" data-bs-target="#crisisCarousel" data-bs-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Nazaj</span>
          </button>
          <button class="carousel-control-next w-5 me-3" type="button" data-bs-target="#crisisCarousel" data-bs-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Naprej</span>
          </button>
        </div>
      </div>
    </div>
  </div>
  
  <!-- Subheader with decorative lines -->
  <div class="text-center my-5">
    <h3 class="text-dark mb-3 mt-4 position-relative">
      <span class="d-inline-block position-relative">
        <span class="d-inline-block mx-2" style="width: 30px;"></span>
        Primerjava z Evropo in Svetom
        <span class="d-inline-block mx-2" style="width: 30px;"></span>
      </span>
    </h3>
  </div>

  <div class="row mb-4">
    <div class="col-12">
      <div class="card shadow-sm border-0 h-100 animate__animated animate__fadeIn">
        <div class="card-header bg-gradient-primary text-white pb-0 border-0">
          <h5 class="font-weight-bold text-white">Rast prebivalstva in emisij CO₂ (1991–2023) 🌍</h5>
          <p class="text-white opacity-8 fs-7">Primerjava prebivalstva (v milijonih) in emisij CO₂ (Slovenija: Mt, EU/Svet: milijarde ton)</p>
        </div>
        <div class="card-body p-3">
          <canvas id="populationCo2Chart" height="400" aria-label="Primerjava rasti prebivalstva in emisij CO₂ med Slovenijo, Evropo in svetom"></canvas>
        </div>
      </div>
    </div>
  </div>

  <!-- Navigation Cards -->
<div class="row mt-5">
  <div class="col-md-3 mb-4">
    <div class="card h-100 border-0 shadow-sm hover-effect">
      <div class="card-body text-center">
        <div class="icon-circle bg-primary text-white mb-3 mx-auto">
          <i class="fas fa-user fa-lg"></i>
        </div>
        <h5 class="card-title">Na osebo 👤</h5>
        <p class="card-text text-muted">Emisije CO₂ glede na prebivalca</p>
        <a href="/slovenia?tab=capita.html" class="btn btn-sm btn-outline-primary mt-2">Preberi več</a>
      </div>
    </div>
  </div>
  
  <div class="col-md-3 mb-4">
    <div class="card h-100 border-0 shadow-sm hover-effect">
      <div class="card-body text-center">
        <div class="icon-circle bg-success text-white mb-3 mx-auto">
          <i class="fas fa-gas-pump fa-lg"></i>
        </div>
        <h5 class="card-title">Po vrsti goriva ⛽</h5>
        <p class="card-text text-muted">Emisije po virih energije</p>
        <a href="/slovenia?tab=fuel.html" class="btn btn-sm btn-outline-primary mt-2">Preberi več</a>
      </div>
    </div>
  </div>
  
  <div class="col-md-3 mb-4">
    <div class="card h-100 border-0 shadow-sm hover-effect">
      <div class="card-body text-center">
        <div class="icon-circle bg-warning text-white mb-3 mx-auto">
          <i class="fas fa-industry fa-lg"></i>
        </div>
        <h5 class="card-title">Po sektorju 🏭</h5>
        <p class="card-text text-muted">Emisije po gospodarskih sektorjih</p>
        <a href="/slovenia?tab=sector.html" class="btn btn-sm btn-outline-primary mt-2">Preberi več</a>
      </div>
    </div>
  </div>
  
  <div class="col-md-3 mb-4">
    <div class="card h-100 border-0 shadow-sm hover-effect">
      <div class="card-body text-center">
        <div class="icon-circle bg-info text-white mb-3 mx-auto">
          <i class="fas fa-map-marked-alt fa-lg"></i>
        </div>
        <h5 class="card-title">Po regiji 🗺️</h5>
        <p class="card-text text-muted">Regionalna porazdelitev emisij</p>
        <a href="/slovenia?tab=region.html" class="btn btn-sm btn-outline-primary mt-2">Preberi več</a>
      </div>
    </div>
  </div>
</div>

<!-- Required Scripts -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-annotation@2.2.1/dist/chartjs-plugin-annotation.min.js"></script>
<script src="/js/load-tabs.js"></script>
<script src="/js/overview-graph.js"></script>

<!-- Optional Animation Library -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" />

<!-- Custom CSS -->
<style>
.row.mb-4 .custom-col .card {
  min-height: 150px;
  display: flex;
  flex-direction: column;
}

.row.mb-4 .custom-col .card-body {
  flex: 1;
  display: flex;
  align-items: center;
}

.transition-hover {
  transition: all 0.3s ease;
}

.transition-hover:hover {
  transform: translateY(-5px);
  box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1) !important;
}

.bg-gradient-primary {
  background: linear-gradient(90deg, #007bff 0%, #0056b3 100%);
}

.bg-light-primary {
  background: #e6f0ff;
}

.bg-light {
  background-color: #f8f9fa !important;
}

.btn-link {
  text-decoration: none;
}

.btn-link:hover {
  text-decoration: underline;
}

.border-3 {
  border-width: 3px !important;
}

#trendChart, #crisisSectorChart {
  max-height: 250px !important;
}

#comparisonChart, #intensityChart {
  max-height: 300px !important;
}

.crisis-data {
  display: flex;
  align-items: center;
  gap: 1rem;
  margin: 0.75rem 0;
}

.data-point {
  display: flex;
  flex-direction: column;
  align-items: center;
}

.data-value {
  font-size: 1rem;
  font-weight: 600;
  color: #2d3748;
}

.data-label {
  font-size: 0.75rem;
  color: #718096;
}

.arrow-down {
  color: #e53e3e;
  font-weight: 600;
}

.arrow-up {
  color: #43a047;
  font-weight: 600;
}

.metric-icon-circle {
  display: flex;
  justify-content: center;
  align-items: center;
  width: 40px;
  height: 40px;
  line-height: 40px;
  text-align: center;
  font-size: 16px;
}

/* Decorative lines for headers only */
h1.position-relative > span.position-relative,
h3.position-relative > span.position-relative {
  position: relative;
  display: inline-block;
}

h1.position-relative > span.position-relative::before,
h1.position-relative > span.position-relative::after,
h3.position-relative > span.position-relative::before,
h3.position-relative > span.position-relative::after {
  content: "";
  position: absolute;
  top: 50%;
  width: 150px;
  height: 2px;
  background-color: #a4c0de;
}

h1.position-relative > span.position-relative::before,
h3.position-relative > span.position-relative::before {
  right: 100%;
  margin-right: 15px;
}

h1.position-relative > span.position-relative::after,
h3.position-relative > span.position-relative::after {
  left: 100%;
  margin-left: 15px;
}

/* Responsive adjustments for headers */
@media (max-width: 768px) {
  h1.position-relative > span.position-relative::before,
  h1.position-relative > span.position-relative::after,
  h3.position-relative > span.position-relative::before,
  h3.position-relative > span.position-relative::after {
    width: 20px;
  }
  
  h1.position-relative > span.position-relative::before,
  h3.position-relative > span.position-relative::before {
    margin-right: 10px;
  }
  
  h1.position-relative > span.position-relative::after,
  h3.position-relative > span.position-relative::after {
    margin-left: 10px;
  }
}

/* Style for navigation cards */
.icon-circle {
  width: 60px;
  height: 60px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1.5rem;
}

.hover-effect {
  transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.hover-effect:hover {
  transform: translateY(-5px);
  box-shadow: 0 10px 20px rgba(0,0,0,0.1) !important;
}

/* Responsive adjustments */
@media (max-width: 768px) {
  .position-relative::before,
  .position-relative::after {
    width: 20px;
  }
  
  .position-relative::before {
    margin-right: 10px;
  }
  
  .position-relative::after {
    margin-left: 10px;
  }
}
</style>